<!DOCTYPE html>
<head>
<title>Lingo</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>

body {
  margin: 0;
  font-family: Verdana, Helvetica, sans-serif;
  background-color: rgb(5, 64, 83);
  font-size: 12px;
  color: white;
}
div {
  margin-left: 10px;  
}
h1 {
  font-size: 32px;
  text-shadow: 2px 2px 5px lightgray;
}
.sakt {
  background-color: rgb(5, 64, 83);
  border: none;
}
.viens {
  background-color: rgb(5, 64, 83);
  background-image: url("poga.png");
  border: none;
  font-size: 32px;
  font-style: bold;
  font-family: "Lucida Console", "Courier New", monospace;
  color: rgb(5, 64, 83);
}
.divi {
  background-color: white;
  border: 1 px;
  font-size: 32px;
  font-style: bold;
  font-family: "Lucida Console", "Courier New", monospace;
  color: rgb(5, 64, 83);
}
.sakt {
  background-color: rgb(5, 64, 83);  
}
.galva {
  margin-left: 10px;
  padding: 5px;
}
td {
  padding-left: 20px;
}
.josla {

  top: 0;
  overflow: hidden;
  background-color: #f1f1f1;
  color: rgb(5, 64, 83);
  font-size: 14px;
  font-weight: bold;
  text-shadow: 2px 2px 5px gray;
 }

.josla a {
  float: left;
  display: block;
  color:  rgb(5, 64, 83);
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

.josla a:hover {
  background-color: rgb(173, 173, 173);
  color: black;
}

.footer {
  background-color: #f1f1f1;
  color: rgb(5, 64, 83);
  padding: 5px;
  text-align: right;
}
</style>
</head>

<body>
<div class="galva">
  <h1>Spēle "Lingo"</h1>
 </div>

<div class="josla">
  <a href="#ievads" onclick="show_ievads()">Sākums</a>
  <a href="#spele" onclick="show_spele()">Spēle</a>
  <a href="#rezultati" onclick="show_rezultati()">Rezultāti</a>
  <a href="#noteikumi" onclick="show_noteikumi()">Kā spēlēt</a>
</div>
<div class="ievads" id="ievads">
    <h2>Līmenis</h2>
    <p>Izvēlies līmeni:</p>
    <p>
    <select id="limeni_id" name="speles_limenis" onchange="izvele()">
      <option value="6">1. līmenis - 6 burtu vārdi</option>
      <option value="7">2. līmenis - 7 burtu vārdi</option>
      <option value="8">3. līmenis - 8 burtu vārdi</option>
      <option value="9">4. līmenis - 9 burtu vārdi</option>
    </select>
    </p>
    <p>
      <button class="sakt" type="button" onclick="show_spele()">
        <img src="play.png" alt="Sākšanas poga"
		      style="width:100px;height:100px;">
      </button>
    </p>
</div>
  
<div class="spele" id="spele">
  <div class="info" id="info">
    <h2>
      <table>
        <tr>
          <td id="laiks">Laiks:</td>
          <td id="atmineti">Atminēti:</td>
          <td id="neatmineti">Neatminēti:</td>
        </tr>
      </table>
    </h2>
  </div>
  <div class="lauki" id="lauki">

  </div>
<div class="alfabets">
  <p>
    <button type="button" class = "viens" onclick="nospiests('A')">A </button>
    <button type="button" class = "viens" onclick="nospiests('Ā')">Ā </button>
    <button type="button" class = "viens" onclick="nospiests('B')">B </button>
    <button type="button" class = "viens" onclick="nospiests('C')">C </button>
    <button type="button" class = "viens" onclick="nospiests('Č')">Č </button>
    <button type="button" class = "viens" onclick="nospiests('D')">D </button>
    <button type="button" class = "viens" onclick="nospiests('E')">E </button>
    <button type="button" class = "viens" onclick="nospiests('Ē')">Ē </button>
    <button type="button" class = "viens" onclick="nospiests('F')">F </button>
    <button type="button" class = "viens" onclick="nospiests('G')">G </button>
    <button type="button" class = "viens" onclick="nospiests('Ģ')">Ģ </button>
  </p>  
  <p>
    <button type="button" class = "viens" onclick="nospiests('H')">H </button>
    <button type="button" class = "viens" onclick="nospiests('I')">I </button>
    <button type="button" class = "viens" onclick="nospiests('Ī')">Ī </button>
    <button type="button" class = "viens" onclick="nospiests('J')">J </button>
    <button type="button" class = "viens" onclick="nospiests('K')">K </button>
    <button type="button" class = "viens" onclick="nospiests('Ķ')">Ķ </button> 
    <button type="button" class = "viens" onclick="nospiests('L')">L </button>
    <button type="button" class = "viens" onclick="nospiests('Ļ')">Ļ </button>
    <button type="button" class = "viens" onclick="nospiests('M')">M </button>
    <button type="button" class = "viens" onclick="nospiests('N')">N </button>
    <button type="button" class = "viens" onclick="nospiests('Ņ')">Ņ </button>
  </p> 
  <p>
    <button type="button" class = "viens" onclick="nospiests('O')">O </button>
    <button type="button" class = "viens" onclick="nospiests('P')">P </button>
    <button type="button" class = "viens" onclick="nospiests('R')">R </button>
    <button type="button" class = "viens" onclick="nospiests('S')">S </button>
    <button type="button" class = "viens" onclick="nospiests('Š')">Š </button>
    <button type="button" class = "viens" onclick="nospiests('T')">T </button>
    <button type="button" class = "viens" onclick="nospiests('U')">U </button>
    <button type="button" class = "viens" onclick="nospiests('Ū')">Ū </button>
    <button type="button" class = "viens" onclick="nospiests('V')">V </button>
    <button type="button" class = "viens" onclick="nospiests('Z')">Z </button>
    <button type="button" class = "viens" onclick="nospiests('Ž')">Ž </button>

   </p>   
</div>
</div>
<div class="rezultati" id="rezultati">
  <h2>Rezultātu tabula</h2>
</div>
<div class="noteikumi" id="noteikumi">
    <h2>Spēles noteikumi</h2>
    <p>Jāatmin 5 lietvārdi 5 minūtēs.</p>
    <p>Nepareizi atminēts vārds samazina "dzīvību" skaitu.</p>
    <p>Pareiza atbilde palielina punktu skaitu un minēšanai paredzēto laiku.</p>
    <p>Dzeltens laukums nozīmē, ka tāds burts vārdā ir, bet tikai citā vietā.</p>
    <p>Zaļš laukums nozīmē, ka tāds burts vārdā ir un atrodas pareizā vietā.</p>
</div>
<div class="footer">
  <p>Spēli veidoja Iveta Gultniece kā uzdevumu Start(IT) kursu ietvaros.</p>
</div>

<script>
//=============================================================================== 
function izvele(){
  limenis = document.getElementById("limeni_id").value;
}

 function show_ievads() {
  var ie = document.getElementById("ievads");
  var sp = document.getElementById("spele");
  var no = document.getElementById("noteikumi");
  var re = document.getElementById("rezultati");
  ie.style.display = "block";
  sp.style.display = "none";
  no.style.display = "none";
  re.style.display = "none";
}
 function show_noteikumi() {
  var ie = document.getElementById("ievads");
  var sp = document.getElementById("spele");
  var no = document.getElementById("noteikumi");
  var re = document.getElementById("rezultati");
  no.style.display = "block";
  sp.style.display = "none";
  ie.style.display = "none";
  re.style.display = "none";
}
 function show_rezultati() {
  var ie = document.getElementById("ievads");
  var sp = document.getElementById("spele");
  var no = document.getElementById("noteikumi");
  var re = document.getElementById("rezultati");
  re.style.display = "block";
  sp.style.display = "none";
  no.style.display = "none";
  ie.style.display = "none";
}
// Spēles burtu laukumu un pogu izveide
function laukumi(){
  var ir = document.getElementById("dinamika");
  if (ir!=null) {
    ir.remove(); 
  }
          let forma = document.createElement("FORM");
          forma.id="dinamika";
          for(let r=0; r<5; r++){
            let rinda=document.createElement("div");
            for(let k=0; k < limenis; k++){
              let poga = document.createElement("input");
              poga.setAttribute("id","p" + r + k);
              poga.type="button";
              poga.className="divi";
              poga.value=" ";
              rinda.appendChild(poga);
              forma.appendChild(rinda);
            }
          if (r==4) {
                poga = document.createElement("input");
                poga.type="button";
                poga.className="divi";
                poga.value = '<-';
                poga.setAttribute( "onClick", "dzeest();" );
                rinda.appendChild(poga);
                poga = document.createElement("input");
                poga.type="button";
                poga.className="divi";
                poga.value="Gatavs";
                poga.setAttribute( "onClick", "gatavs();" );
                rinda.appendChild(poga);
              }
            }  
          forma.style.backgroundColor = "rgb(5, 64, 83)";
          document.getElementById("lauki").appendChild(forma);
        }
  // dzēš pēdējo ievadīto burtu
  function dzeest() {
    for(let b = limenis; b > 0; b--){
      let burtaId = "p4" + (b - 1);
      let a = document.getElementById(burtaId).value;
      if (a != " ") {
        document.getElementById(burtaId).value = " ";
        break;
      }
    }
  }
 
  // Lietotājs ir apstiprinājis, ka vārds ir sastādīts un to var pārbaudīt
  // funkcija ievieto vārdu minējumu rindā, pārbauda burtu vietas un vārda sakritību
  function gatavs() {
    let e = "";
    let bId = "p" + rinda;
    for(let i = 0; i < limenis; i++){
      let aId = "p4" + i;
      let a = document.getElementById(aId).value; // burts pārbaudāmajā rindā
      document.getElementById(bId + i).value = a;
      document.getElementById(aId).value = " ";
      let c = minamais.substr(i,1); // i-tais burts minamajā vārdā
      let d = minamais.search(a); // meklē burtu minamajā vārdā
      if (d == -1) {
        document.getElementById(bId + i).style.backgroundColor = "#ff8080"; // sarkans
      } else {
        if (c == a) {
          document.getElementById(bId + i).style.backgroundColor = "#33ff33"; // zaļš
        } else {
          document.getElementById(bId + i).style.backgroundColor = "#ffff66"; // dzeltens
        }
      }
      e = e + a;
    }
    // vārds ir pareizs
    if (minamais == e) {
      atmineti = atmineti + 1;
      document.getElementById("atmineti").innerHTML = "Atminēti: "+ atmineti;
    }
    rinda = rinda + 1;
    // mēģinājumu  rindas ir pilnas
    if (rinda == 4) {
      neatmineti = neatmineti + 1;
      document.getElementById("neatmineti").innerHTML = "Neatminēti: "+ neatmineti;
    }
    // jauna vārda sagatavošana pec atminēšanas vai neatinēšanas    
    if (rinda == 4||minamais == e) {
      for(let r = 0; r < 5; r++){
          for(let k = 0; k < limenis; k++){
            let b = "p" + r + k;
            document.getElementById(b).value = " ";
            document.getElementById(b).style.backgroundColor = "white"; // balts
          }
        }
        rinda = 0;
        var n = Math.floor(Math.random() * speles_masivs.length);
        minamais = speles_masivs[n];
        let c = minamais.substr(0,1);
        document.getElementById("p00").value = c;
         
    }
  }  
  // nospiests alfabeta burts, ko ievieto ievades rindā, ja tā nav pilna 
  function nospiests (ievade) {
    for(let b = 0; b < limenis; b++){
      let burtaId = "p4" + b;
      let a = document.getElementById(burtaId).value;
      if (a == " ") {
        document.getElementById(burtaId).value = ievade;
        break;
      }
    }
  }

 function show_spele() {
  var ie = document.getElementById("ievads");
  var sp = document.getElementById("spele");
  var no = document.getElementById("noteikumi");
  var re = document.getElementById("rezultati");
  sp.style.display = "block";
  ie.style.display = "none";
  no.style.display = "none";
  re.style.display = "none";
  // sākumvērtības
  neatmineti = 0;
  laiks= 5 * 60;
  atmineti = 0;
  neatmineti = 0;
  var minutes, sekundes;
  document.getElementById("neatmineti").innerHTML = "Neatminēti: "+ neatmineti;
  document.getElementById("laiks").innerHTML = "Laiks: 5:00";
  document.getElementById("atmineti").innerHTML = "Atminēti: "+ atmineti;
  //laika skaitīšana
  var laika_taimeris = setInterval(function(){
  minutes = Math.floor(laiks / 60);
  sekundes = laiks - minutes * 60;
    if(laiks <= 0){
      clearInterval(laika_taimeris);
    }
    var nulle = "";
    if(sekundes <10 ) {
      nulle = "0";
    }
  document.getElementById("laiks").innerHTML = "Laiks: "+ minutes + ":" + nulle + sekundes;
  laiks -= 1;
  }, 1000);
  // izvēlētā garuma vārdu masīva sagatavošana
  var vards;
  for (j = 0; j < vardu_masivs.length; j++) {
    vards = vardu_masivs[j];
    if (vards.length == limenis) {
      speles_masivs.push(vards);
    }
  }
  // minējuma laukumu izveide
  laukumi ();
  //nejauša vārda izvēle
  var atmineti = 0;
  var n = Math.floor(Math.random() * speles_masivs.length);
    minamais = speles_masivs[n];
    var burts1 = minamais.substr(0,1);
    rinda = 0;
    document.getElementById("p00").value = burts1;
 }
  var speles_masivs=[];
  var rinda = 0;
  var minamais = "";
  var ievadrinda="";
  var limenis = 6;
  var lietoti = [];
  var neatmineti = 0;
  var laiks = 0;
  var atmineti = 0;
  var vardu_masivs=["KURKULIS","PAMALE","KAKTUSS","SKAPIS","PELEMENIS",
  "SPROSTS","DINOZAURS","PURENE","ĶĪSELIS","JĀŅOGA","BURKĀNS","PLANŠETE","KAROTE",
  "PUMPURS","ZĪMULIS","ZEMENE","LĀSTEKA","SIENĀZIS","GRĀMATA","SPOGULIS","SALDĒJUMS",
  "BIEZPIENS","ATKUSNIS","CIPARS","LĀPSTA","KABATA","GRĀMATA","PRIEDE","BRIEDIS",
  "ZVAIGZNE","LIDMAŠĪNA","GAILIS",""];
  show_ievads();
</script>
</body>
</html>


